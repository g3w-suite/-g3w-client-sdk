!function e(t,r,o){function a(i,s){if(!r[i]){if(!t[i]){var p="function"==typeof require&&require;if(!s&&p)return p(i,!0);if(n)return n(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[i]={exports:{}};t[i][0].call(l.exports,function(e){var r=t[i][1][e];return a(r?r:e)},l,l.exports,e,t,r,o)}return r[i].exports}for(var n="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(e,t,r){var o=e("./map/maphelpers");!function(e,o,a){"function"==typeof define&&define.amd?define(a):"object"==typeof r?t.exports=a():o[e]=a()}("g3wol3",this,function(){"use strict";function e(e,t){var r={};for(var o in e)r[o]=e[o];for(var o in t)r[o]=t[o];return r}var t=e({},o);return{helpers:t}})},{"./map/maphelpers":3}],2:[function(e,t,r){var o={};o.OSM=new ol.layer.Tile({source:new ol.source.OSM({attributions:[new ol.Attribution({html:'All maps &copy; <a href="http://www.openstreetmap.org/">OpenStreetMap</a>'}),ol.source.OSM.ATTRIBUTION],url:"http://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:null}),id:"osm",title:"OSM",basemap:!0}),o.BING={},o.BING.Road=new ol.layer.Tile({name:"Road",visible:!1,preload:1/0,source:new ol.source.BingMaps({key:"Am_mASnUA-jtW3O3MxIYmOOPLOvL39dwMvRnyoHxfKf_EPNYgfWM9imqGETWKGVn",imagerySet:"Road"}),basemap:!0}),o.BING.AerialWithLabels=new ol.layer.Tile({name:"AerialWithLabels",visible:!0,preload:1/0,source:new ol.source.BingMaps({key:"Am_mASnUA-jtW3O3MxIYmOOPLOvL39dwMvRnyoHxfKf_EPNYgfWM9imqGETWKGVn",imagerySet:"AerialWithLabels"}),basemap:!0}),o.BING.Aerial=new ol.layer.Tile({name:"Aerial",visible:!1,preload:1/0,source:new ol.source.BingMaps({key:"Am_mASnUA-jtW3O3MxIYmOOPLOvL39dwMvRnyoHxfKf_EPNYgfWM9imqGETWKGVn",imagerySet:"Aerial"}),basemap:!0}),t.exports=o},{}],3:[function(e,t,r){BaseLayers=e("../layers/bases");var o={createViewer:function(e){return new a(e)}},a=function(e){var t=ol.control.defaults({attributionOptions:{collapsible:!1},zoom:!1}),r=ol.interaction.defaults().extend([new ol.interaction.DragRotate]);r.removeAt(1);var o=new ol.View(e.view),a={controls:t,interactions:r,ol3Logo:!1,view:o,keyboardEventTarget:document};e.id&&(a.target=e.id);var n=new ol.Map(a);this.map=n};a.prototype.updateMap=function(e){},a.prototype.updateView=function(){},a.prototype.getMap=function(){return this.map},a.prototype.setTarget=function(e){this.map.setTarget(e)},a.prototype.goTo=function(e,t){var r=this.map.getView();r.setCenter(e),r.setZoom(t)},a.prototype.getZoom=function(){var e=this.map.getView();return e.getZoom()},a.prototype.getResolution=function(){var e=this.map.getView();return e.getResolution()},a.prototype.getCenter=function(){var e=this.map.getView();return e.getCenter()},a.prototype.getBBOX=function(){return this.map.getView().calculateExtent(this.map.getSize())},a.prototype.getLayerByName=function(e){for(var t=this.map.getLayers(),r=t.getLength(),o=0;r>o;o++)if(e===t.item(o).get("name"))return t.item(o);return null},a.prototype.removeLayerByName=function(e){var t=this.getLayerByName(e);t&&(this.map.removeLayer(t),delete t)},a.prototype.getActiveLayers=function(){var e=[];return this.map.getLayers().forEach(function(t){var r=t.getProperties();1!=r.basemap&&r.visible&&e.push(t)}),e},a.prototype.removeLayers=function(){this.map.getLayers().clear()},a.prototype.getLayersNoBase=function(){var e=[];return this.map.getLayers().forEach(function(t){var r=t.getProperties();1!=r.basemap&&e.push(t)}),e},a.prototype.addBaseLayer=function(e){var t;t=e?BaseLayers[e]:BaseLayers.BING.Aerial,this.map.addLayer(t)},a.prototype.changeBaseLayer=function(e){var t=this.getLayerByName(layername),r=this.map.getLayers();r.insertAt(0,t)},t.exports=o},{"../layers/bases":2}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1aWxkLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJmIiwiRXJyb3IiLCJjb2RlIiwibCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwxLCJtb2R1bGUiLCJtYXBoZWxwZXJzIiwibmFtZSIsInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIm1lcmdlIiwib2JqMSIsIm9iajIiLCJvYmozIiwiYXR0cm5hbWUiLCJoZWxwZXJzIiwiLi9tYXAvbWFwaGVscGVycyIsMiwiQmFzZUxheWVycyIsIk9TTSIsIm9sIiwibGF5ZXIiLCJUaWxlIiwic291cmNlIiwiYXR0cmlidXRpb25zIiwiQXR0cmlidXRpb24iLCJodG1sIiwiQVRUUklCVVRJT04iLCJ1cmwiLCJjcm9zc09yaWdpbiIsImlkIiwidGl0bGUiLCJiYXNlbWFwIiwiQklORyIsIlJvYWQiLCJ2aXNpYmxlIiwicHJlbG9hZCIsIkluZmluaXR5IiwiQmluZ01hcHMiLCJrZXkiLCJpbWFnZXJ5U2V0IiwiQWVyaWFsV2l0aExhYmVscyIsIkFlcmlhbCIsMywiTWFwSGVscGVycyIsImNyZWF0ZVZpZXdlciIsIm9wdHMiLCJfVmlld2VyIiwiY29udHJvbHMiLCJjb250cm9sIiwiZGVmYXVsdHMiLCJhdHRyaWJ1dGlvbk9wdGlvbnMiLCJjb2xsYXBzaWJsZSIsInpvb20iLCJpbnRlcmFjdGlvbnMiLCJpbnRlcmFjdGlvbiIsImV4dGVuZCIsIkRyYWdSb3RhdGUiLCJyZW1vdmVBdCIsInZpZXciLCJWaWV3Iiwib3B0aW9ucyIsIm9sM0xvZ28iLCJrZXlib2FyZEV2ZW50VGFyZ2V0IiwiZG9jdW1lbnQiLCJ0YXJnZXQiLCJtYXAiLCJNYXAiLCJwcm90b3R5cGUiLCJ1cGRhdGVNYXAiLCJtYXBPYmplY3QiLCJ1cGRhdGVWaWV3IiwiZ2V0TWFwIiwic2V0VGFyZ2V0IiwiZ29UbyIsImNvb3JkaW5hdGVzIiwiZ2V0VmlldyIsInNldENlbnRlciIsInNldFpvb20iLCJnZXRab29tIiwiZ2V0UmVzb2x1dGlvbiIsImdldENlbnRlciIsImdldEJCT1giLCJjYWxjdWxhdGVFeHRlbnQiLCJnZXRTaXplIiwiZ2V0TGF5ZXJCeU5hbWUiLCJsYXllck5hbWUiLCJsYXllcnMiLCJnZXRMYXllcnMiLCJnZXRMZW5ndGgiLCJpdGVtIiwiZ2V0IiwicmVtb3ZlTGF5ZXJCeU5hbWUiLCJyZW1vdmVMYXllciIsImdldEFjdGl2ZUxheWVycyIsImFjdGl2ZWxheWVycyIsImZvckVhY2giLCJwcm9wcyIsImdldFByb3BlcnRpZXMiLCJwdXNoIiwicmVtb3ZlTGF5ZXJzIiwiY2xlYXIiLCJnZXRMYXllcnNOb0Jhc2UiLCJhZGRCYXNlTGF5ZXIiLCJ0eXBlIiwiYWRkTGF5ZXIiLCJjaGFuZ2VCYXNlTGF5ZXIiLCJiYXNlTGF5ZXIiLCJsYXllcm5hbWUiLCJpbnNlcnRBdCIsIi4uL2xheWVycy9iYXNlcyJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBVUEsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBa0Isa0JBQVRDLFVBQXFCQSxPQUFRLEtBQUlGLEdBQUdDLEVBQUUsTUFBT0EsR0FBRUYsR0FBRSxFQUFJLElBQUdJLEVBQUUsTUFBT0EsR0FBRUosR0FBRSxFQUFJLElBQUlLLEdBQUUsR0FBSUMsT0FBTSx1QkFBdUJOLEVBQUUsSUFBSyxNQUFNSyxHQUFFRSxLQUFLLG1CQUFtQkYsRUFBRSxHQUFJRyxHQUFFWCxFQUFFRyxJQUFJUyxXQUFZYixHQUFFSSxHQUFHLEdBQUdVLEtBQUtGLEVBQUVDLFFBQVEsU0FBU2QsR0FBRyxHQUFJRSxHQUFFRCxFQUFFSSxHQUFHLEdBQUdMLEVBQUcsT0FBT0ksR0FBRUYsRUFBRUEsRUFBRUYsSUFBSWEsRUFBRUEsRUFBRUMsUUFBUWQsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxNQUFPRCxHQUFF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akUsU0FBbUJpRSxFQUFNOUQsU0FDaEM0RCxFQUFhSSxLQUFLOUUsS0FJaEIwRSxHQUdUaEQsRUFBUXFCLFVBQVVnQyxhQUFlLFdBQy9CM0YsS0FBS3lELElBQUlzQixZQUFZYSxTQUd2QnRELEVBQVFxQixVQUFVa0MsZ0JBQWtCLFdBQ2xDLEdBQUlmLEtBUUosT0FQQTlFLE1BQUt5RCxJQUFJc0IsWUFBWVEsUUFBUSxTQUFTM0UsR0FDcEMsR0FBSTRFLEdBQVE1RSxFQUFNNkUsZUFDRyxJQUFqQkQsRUFBTWpFLFNBQ1J1RCxFQUFPWSxLQUFLOUUsS0FJVGtFLEdBR1R4QyxFQUFRcUIsVUFBVW1DLGFBQWUsU0FBU0MsR0FDeEMsR0FBSW5GLEVBQ0dBLEdBQVBtRixFQUFldEYsV0FBV3NGLEdBQWdCdEYsV0FBV2UsS0FBS1MsT0FDMURqQyxLQUFLeUQsSUFBSXVDLFNBQVNwRixJQUdwQjBCLEVBQVFxQixVQUFVc0MsZ0JBQWtCLFNBQVNwQixHQUMzQyxHQUFJcUIsR0FBWWxHLEtBQUs0RSxlQUFldUIsV0FDaENyQixFQUFTOUUsS0FBS3lELElBQUlzQixXQUN0QkQsR0FBT3NCLFNBQVMsRUFBR0YsSUFHckJ6RyxFQUFPSixRQUFVOEMsSUFFZGtFLGtCQUFrQixTQUFTIiwiZmlsZSI6ImJ1aWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIG1hcGhlbHBlcnMgPSByZXF1aXJlKCcuL21hcC9tYXBoZWxwZXJzJyk7XG5cbihmdW5jdGlvbiAobmFtZSwgcm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZhY3RvcnkpO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9XG4gIGVsc2Uge1xuICAgIHJvb3RbbmFtZV0gPSBmYWN0b3J5KCk7XG4gIH1cbn0pKCdnM3dvbDMnLCB0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIGZ1bmN0aW9uIG1lcmdlKG9iajEsb2JqMil7XG4gICAgdmFyIG9iajMgPSB7fTtcbiAgICBmb3IgKHZhciBhdHRybmFtZSBpbiBvYmoxKSB7IG9iajNbYXR0cm5hbWVdID0gb2JqMVthdHRybmFtZV07IH1cbiAgICBmb3IgKHZhciBhdHRybmFtZSBpbiBvYmoyKSB7IG9iajNbYXR0cm5hbWVdID0gb2JqMlthdHRybmFtZV07IH1cbiAgICByZXR1cm4gb2JqMztcbiAgfTtcbiAgXG4gIHZhciBoZWxwZXJzID0gbWVyZ2Uoe30sbWFwaGVscGVycyk7XG4gIFxuICByZXR1cm4ge1xuICAgIGhlbHBlcnM6IGhlbHBlcnNcbiAgfVxufSk7XG5cbn0se1wiLi9tYXAvbWFwaGVscGVyc1wiOjN9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBCYXNlTGF5ZXJzID0ge307XG5cbkJhc2VMYXllcnMuT1NNID0gbmV3IG9sLmxheWVyLlRpbGUoe1xuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuT1NNKHtcbiAgICBhdHRyaWJ1dGlvbnM6IFtcbiAgICAgIG5ldyBvbC5BdHRyaWJ1dGlvbih7XG4gICAgICAgIGh0bWw6ICdBbGwgbWFwcyAmY29weTsgJyArXG4gICAgICAgICAgICAnPGEgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvXCI+T3BlblN0cmVldE1hcDwvYT4nXG4gICAgICB9KSxcbiAgICAgIG9sLnNvdXJjZS5PU00uQVRUUklCVVRJT05cbiAgICBdLFxuICAgIHVybDogJ2h0dHA6Ly97YS1jfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgY3Jvc3NPcmlnaW46IG51bGxcbiAgfSksXG4gIGlkOiAnb3NtJyxcbiAgdGl0bGU6ICdPU00nLFxuICBiYXNlbWFwOiB0cnVlXG59KTtcblxuQmFzZUxheWVycy5CSU5HID0ge307XG5cbkJhc2VMYXllcnMuQklORy5Sb2FkID0gbmV3IG9sLmxheWVyLlRpbGUoe1xuICBuYW1lOidSb2FkJyxcbiAgdmlzaWJsZTogZmFsc2UsXG4gIHByZWxvYWQ6IEluZmluaXR5LFxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuQmluZ01hcHMoe1xuICAgIGtleTogJ0FtX21BU25VQS1qdFczTzNNeElZbU9PUExPdkwzOWR3TXZSbnlvSHhmS2ZfRVBOWWdmV005aW1xR0VUV0tHVm4nLFxuICAgIGltYWdlcnlTZXQ6ICdSb2FkJ1xuICAgICAgLy8gdXNlIG1heFpvb20gMTkgdG8gc2VlIHN0cmV0Y2hlZCB0aWxlcyBpbnN0ZWFkIG9mIHRoZSBCaW5nTWFwc1xuICAgICAgLy8gXCJubyBwaG90b3MgYXQgdGhpcyB6b29tIGxldmVsXCIgdGlsZXNcbiAgICAgIC8vIG1heFpvb206IDE5XG4gIH0pLFxuICBiYXNlbWFwOiB0cnVlXG59KTtcblxuQmFzZUxheWVycy5CSU5HLkFlcmlhbFdpdGhMYWJlbHMgPSBuZXcgb2wubGF5ZXIuVGlsZSh7XG4gIG5hbWU6ICdBZXJpYWxXaXRoTGFiZWxzJyxcbiAgdmlzaWJsZTogdHJ1ZSxcbiAgcHJlbG9hZDogSW5maW5pdHksXG4gIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5CaW5nTWFwcyh7XG4gICAga2V5OiAnQW1fbUFTblVBLWp0VzNPM014SVltT09QTE92TDM5ZHdNdlJueW9IeGZLZl9FUE5ZZ2ZXTTlpbXFHRVRXS0dWbicsXG4gICAgaW1hZ2VyeVNldDogJ0FlcmlhbFdpdGhMYWJlbHMnXG4gICAgICAvLyB1c2UgbWF4Wm9vbSAxOSB0byBzZWUgc3RyZXRjaGVkIHRpbGVzIGluc3RlYWQgb2YgdGhlIEJpbmdNYXBzXG4gICAgICAvLyBcIm5vIHBob3RvcyBhdCB0aGlzIHpvb20gbGV2ZWxcIiB0aWxlc1xuICAgICAgLy8gbWF4Wm9vbTogMTlcbiAgfSksXG4gIGJhc2VtYXA6IHRydWVcbn0pO1xuXG5CYXNlTGF5ZXJzLkJJTkcuQWVyaWFsID0gbmV3IG9sLmxheWVyLlRpbGUoe1xuICBuYW1lOiAnQWVyaWFsJyxcbiAgdmlzaWJsZTogZmFsc2UsXG4gIHByZWxvYWQ6IEluZmluaXR5LFxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuQmluZ01hcHMoe1xuICAgIGtleTogJ0FtX21BU25VQS1qdFczTzNNeElZbU9PUExPdkwzOWR3TXZSbnlvSHhmS2ZfRVBOWWdmV005aW1xR0VUV0tHVm4nLFxuICAgIGltYWdlcnlTZXQ6ICdBZXJpYWwnXG4gICAgICAvLyB1c2UgbWF4Wm9vbSAxOSB0byBzZWUgc3RyZXRjaGVkIHRpbGVzIGluc3RlYWQgb2YgdGhlIEJpbmdNYXBzXG4gICAgICAvLyBcIm5vIHBob3RvcyBhdCB0aGlzIHpvb20gbGV2ZWxcIiB0aWxlc1xuICAgICAgLy8gbWF4Wm9vbTogMTlcbiAgfSksXG4gIGJhc2VtYXA6IHRydWVcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VMYXllcnM7XG5cbn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuQmFzZUxheWVycyA9IHJlcXVpcmUoJy4uL2xheWVycy9iYXNlcycpO1xuXG52YXIgTWFwSGVscGVycyA9IHtcbiAgY3JlYXRlVmlld2VyOiBmdW5jdGlvbihvcHRzKXtcbiAgICByZXR1cm4gbmV3IF9WaWV3ZXIob3B0cyk7XG4gIH1cbn07XG5cbnZhciBfVmlld2VyID0gZnVuY3Rpb24ob3B0cyl7XG4gIHZhciBjb250cm9scyA9IG9sLmNvbnRyb2wuZGVmYXVsdHMoe1xuICAgIGF0dHJpYnV0aW9uT3B0aW9uczoge1xuICAgICAgY29sbGFwc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICB6b29tOiBmYWxzZVxuICB9KTsvLy5leHRlbmQoW25ldyBvbC5jb250cm9sLlpvb20oKV0pO1xuICBcbiAgdmFyIGludGVyYWN0aW9ucyA9IG9sLmludGVyYWN0aW9uLmRlZmF1bHRzKClcbiAgICAuZXh0ZW5kKFtcbiAgICAgIG5ldyBvbC5pbnRlcmFjdGlvbi5EcmFnUm90YXRlKClcbiAgICBdKTtcbiAgaW50ZXJhY3Rpb25zLnJlbW92ZUF0KDEpIC8vIHJpbXVvdmVvIGRvdWNsaWNrem9vbVxuICBcbiAgdmFyIHZpZXcgPSBuZXcgb2wuVmlldyhvcHRzLnZpZXcpO1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBjb250cm9sczogY29udHJvbHMsXG4gICAgaW50ZXJhY3Rpb25zOiBpbnRlcmFjdGlvbnMsXG4gICAgb2wzTG9nbzogZmFsc2UsXG4gICAgLy9cbiAgICB2aWV3OiB2aWV3LFxuICAgIGtleWJvYXJkRXZlbnRUYXJnZXQ6IGRvY3VtZW50XG4gIH07XG4gIGlmIChvcHRzLmlkKXtcbiAgICBvcHRpb25zLnRhcmdldCA9IG9wdHMuaWQ7XG4gIH1cbiAgdmFyIG1hcCAgPSBuZXcgb2wuTWFwKG9wdGlvbnMpO1xuICB0aGlzLm1hcCA9IG1hcDtcbn07XG5cbl9WaWV3ZXIucHJvdG90eXBlLnVwZGF0ZU1hcCA9IGZ1bmN0aW9uKG1hcE9iamVjdCl7fTtcblxuX1ZpZXdlci5wcm90b3R5cGUudXBkYXRlVmlldyA9IGZ1bmN0aW9uKCl7fTtcblxuX1ZpZXdlci5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHRoaXMubWFwO1xufTtcblxuX1ZpZXdlci5wcm90b3R5cGUuc2V0VGFyZ2V0ID0gZnVuY3Rpb24oaWQpe1xuICB0aGlzLm1hcC5zZXRUYXJnZXQoaWQpO1xufTtcblxuX1ZpZXdlci5wcm90b3R5cGUuZ29UbyA9IGZ1bmN0aW9uKGNvb3JkaW5hdGVzLCB6b29tKXtcbiAgdmFyIHZpZXcgPSB0aGlzLm1hcC5nZXRWaWV3KCk7XG4gIHZpZXcuc2V0Q2VudGVyKGNvb3JkaW5hdGVzKTtcbiAgdmlldy5zZXRab29tKHpvb20pO1xufTtcblxuX1ZpZXdlci5wcm90b3R5cGUuZ2V0Wm9vbSA9IGZ1bmN0aW9uKCl7XG4gIHZhciB2aWV3ID0gdGhpcy5tYXAuZ2V0VmlldygpO1xuICByZXR1cm4gdmlldy5nZXRab29tKCk7XG59O1xuXG5fVmlld2VyLnByb3RvdHlwZS5nZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24oKXtcbiAgdmFyIHZpZXcgPSB0aGlzLm1hcC5nZXRWaWV3KCk7XG4gIHJldHVybiB2aWV3LmdldFJlc29sdXRpb24oKTtcbn07XG5cbl9WaWV3ZXIucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uKCl7XG4gIHZhciB2aWV3ID0gdGhpcy5tYXAuZ2V0VmlldygpO1xuICByZXR1cm4gdmlldy5nZXRDZW50ZXIoKTtcbn07XG5cbl9WaWV3ZXIucHJvdG90eXBlLmdldEJCT1ggPSBmdW5jdGlvbigpe1xuICByZXR1cm4gdGhpcy5tYXAuZ2V0VmlldygpLmNhbGN1bGF0ZUV4dGVudCh0aGlzLm1hcC5nZXRTaXplKCkpO1xufTtcblxuX1ZpZXdlci5wcm90b3R5cGUuZ2V0TGF5ZXJCeU5hbWUgPSBmdW5jdGlvbihsYXllck5hbWUpIHtcbiAgdmFyIGxheWVycyA9IHRoaXMubWFwLmdldExheWVycygpO1xuICB2YXIgbGVuZ3RoID0gbGF5ZXJzLmdldExlbmd0aCgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGxheWVyTmFtZSA9PT0gbGF5ZXJzLml0ZW0oaSkuZ2V0KCduYW1lJykpIHtcbiAgICAgIHJldHVybiBsYXllcnMuaXRlbShpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5fVmlld2VyLnByb3RvdHlwZS5yZW1vdmVMYXllckJ5TmFtZSA9IGZ1bmN0aW9uKGxheWVyTmFtZSl7XG4gIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXJCeU5hbWUobGF5ZXJOYW1lKTtcbiAgaWYgKGxheWVyKXtcbiAgICB0aGlzLm1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgZGVsZXRlIGxheWVyO1xuICB9XG59O1xuXG5fVmlld2VyLnByb3RvdHlwZS5nZXRBY3RpdmVMYXllcnMgPSBmdW5jdGlvbigpe1xuICB2YXIgYWN0aXZlbGF5ZXJzID0gW107XG4gIHRoaXMubWFwLmdldExheWVycygpLmZvckVhY2goZnVuY3Rpb24obGF5ZXIpIHtcbiAgICB2YXIgcHJvcHMgPSBsYXllci5nZXRQcm9wZXJ0aWVzKCk7XG4gICAgaWYgKHByb3BzLmJhc2VtYXAgIT0gdHJ1ZSAmJiBwcm9wcy52aXNpYmxlKXtcbiAgICAgICBhY3RpdmVsYXllcnMucHVzaChsYXllcik7XG4gICAgfVxuICB9KTtcbiAgXG4gIHJldHVybiBhY3RpdmVsYXllcnM7XG59O1xuXG5fVmlld2VyLnByb3RvdHlwZS5yZW1vdmVMYXllcnMgPSBmdW5jdGlvbigpe1xuICB0aGlzLm1hcC5nZXRMYXllcnMoKS5jbGVhcigpO1xufTtcblxuX1ZpZXdlci5wcm90b3R5cGUuZ2V0TGF5ZXJzTm9CYXNlID0gZnVuY3Rpb24oKXtcbiAgdmFyIGxheWVycyA9IFtdO1xuICB0aGlzLm1hcC5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgdmFyIHByb3BzID0gbGF5ZXIuZ2V0UHJvcGVydGllcygpO1xuICAgIGlmIChwcm9wcy5iYXNlbWFwICE9IHRydWUpe1xuICAgICAgbGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgIH1cbiAgfSk7XG4gIFxuICByZXR1cm4gbGF5ZXJzO1xufTtcblxuX1ZpZXdlci5wcm90b3R5cGUuYWRkQmFzZUxheWVyID0gZnVuY3Rpb24odHlwZSl7XG4gIHZhciBsYXllcjtcbiAgdHlwZSA/IGxheWVyID0gQmFzZUxheWVyc1t0eXBlXTogIGxheWVyID0gQmFzZUxheWVycy5CSU5HLkFlcmlhbDtcbiAgdGhpcy5tYXAuYWRkTGF5ZXIobGF5ZXIpO1xufTtcblxuX1ZpZXdlci5wcm90b3R5cGUuY2hhbmdlQmFzZUxheWVyID0gZnVuY3Rpb24obGF5ZXJOYW1lKXtcbiAgdmFyIGJhc2VMYXllciA9IHRoaXMuZ2V0TGF5ZXJCeU5hbWUobGF5ZXJuYW1lKTtcbiAgdmFyIGxheWVycyA9IHRoaXMubWFwLmdldExheWVycygpO1xuICBsYXllcnMuaW5zZXJ0QXQoMCwgYmFzZUxheWVyKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTWFwSGVscGVycztcblxufSx7XCIuLi9sYXllcnMvYmFzZXNcIjoyfV19LHt9LFsxXSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
